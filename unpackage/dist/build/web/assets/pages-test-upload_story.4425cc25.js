import{x as e,H as o,J as s,o as a,F as l,g as t,b as n,G as i,i as d,p as c,t as r,e as u,B as h,K as m,L as p,A as g}from"./index-b9b7da21.js";import{_ as f}from"./navbar.678bf8a5.js";import{r as C}from"./uni-app.es.390e62e4.js";import{_}from"./_plugin-vue_export-helper.1b428a4d.js";const y=_({data:()=>({bodyParts:["头部","脸部","肩部","胸部","腹部","臀部","阴部","腿部","脚部"],selectedBodyIndex:0,signals:["友好的触碰","礼貌的触碰","谁都不可以碰","随机"],selectedSignalIndex:0,themes:["权利和价值观","性与性行为","关系","文化与性","人体与发育","暴力和安全保障","理解性别","性与生殖健康"],selectedThemeIndex:0,storyContent:"",selectedFile:null}),methods:{onBodyPartChange(e){this.selectedBodyIndex=e.detail.value},onSignalChange(e){this.selectedSignalIndex=e.detail.value},onThemeChange(e){this.selectedThemeIndex=e.detail.value},saveToDatabase(){const o=this.bodyParts[this.selectedBodyIndex],s=this.signals[this.selectedSignalIndex],a=this.themes[this.selectedThemeIndex],l=this.storyContent;console.log("部位：",o),console.log("信号灯：",s),console.log("主题：",a),console.log("故事内容：",l),e({title:"仅测试使用，请通过文件一键上传",icon:"none"})},chooseFile(){o({count:1,sourceType:["file"],success:e=>{const o=e.tempFiles[0].path,s=e.tempFiles[0].name;this.uploadStoryFile(o,s)},fail:e=>{console.error("选择文件失败",e)}})},uploadStoryFile(e,o){s({url:"https://dida.012331.com/upload/story/",filePath:e,name:"file",fileName:o,formData:{},success:e=>{console.log("文件上传成功",e.data)},fail:e=>{console.error("文件上传失败",e)}})},chooseQuestionAnswer(){o({count:1,sourceType:["file"],success:e=>{const o=e.tempFiles[0].path,s=e.tempFiles[0].name;this.uploadQuestionFile(o,s)},fail:e=>{console.error("选择文件失败",e)}})},uploadQuestionFile(e,o){s({url:"https://dida.012331.com/upload/question/",filePath:e,name:"file",fileName:o,formData:{},success:e=>{console.log("文件上传成功",e.data)},fail:e=>{console.error("文件上传失败",e)}})}}},[["render",function(e,o,s,_,y,x){const I=C(u("navbar"),f),b=h,F=d,k=m,T=p,v=g;return a(),l(i,null,[t(I,{isHome:!1}),t(F,{class:"container"},{default:n((()=>[t(F,{class:"option"},{default:n((()=>[t(b,{class:"option-title"},{default:n((()=>[c("部位：")])),_:1}),t(k,{mode:"selector",range:y.bodyParts,onChange:x.onBodyPartChange},{default:n((()=>[t(F,{class:"picker"},{default:n((()=>[c(r(y.bodyParts[y.selectedBodyIndex]),1)])),_:1})])),_:1},8,["range","onChange"])])),_:1}),t(F,{class:"option"},{default:n((()=>[t(b,{class:"option-title"},{default:n((()=>[c("信号灯：")])),_:1}),t(k,{mode:"selector",range:y.signals,onChange:x.onSignalChange},{default:n((()=>[t(F,{class:"picker"},{default:n((()=>[c(r(y.signals[y.selectedSignalIndex]),1)])),_:1})])),_:1},8,["range","onChange"])])),_:1}),t(F,{class:"option"},{default:n((()=>[t(b,{class:"option-title"},{default:n((()=>[c("主题：")])),_:1}),t(k,{mode:"selector",range:y.themes,onChange:x.onThemeChange},{default:n((()=>[t(F,{class:"picker"},{default:n((()=>[c(r(y.themes[y.selectedThemeIndex]),1)])),_:1})])),_:1},8,["range","onChange"])])),_:1}),t(T,{modelValue:y.storyContent,"onUpdate:modelValue":o[0]||(o[0]=e=>y.storyContent=e),maxlength:"-1",placeholder:"请输入故事内容"},null,8,["modelValue"]),t(v,{onClick:x.saveToDatabase},{default:n((()=>[c("保存")])),_:1},8,["onClick"]),t(v,{onClick:x.chooseFile,style:{"background-color":"aquamarine"}},{default:n((()=>[c("选择故事文件上传")])),_:1},8,["onClick"]),t(v,{onClick:x.chooseQuestionAnswer,style:{"background-color":"cadetblue"}},{default:n((()=>[c("选择题库文件上传")])),_:1},8,["onClick"])])),_:1})],64)}],["__scopeId","data-v-6ddf9c6e"]]);export{y as default};
